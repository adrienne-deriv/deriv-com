name: Pre-generate preview link

permissions:
    pull-requests: write

on:
    pull_request:
        types: [opened, synchronize]

concurrency:
    group: cloudflare-pages-verify-${{ github.head_ref }}
    cancel-in-progress: true

jobs:
    verify_pull_request:
        runs-on: Ubuntu-latest
        steps:
            - name: PR Comment
              uses: actions/github-script@v2
              with:
                  github-token: ${{github.token}}
                  script: |
                      github.issues.createComment({
                        issue_number: ${{ github.event.number }},
                        owner: context.repo.owner,
                        repo: context.repo.repo,
                        body: 'Test'
                      })
